/*
 * Copyright 2012-2013 Valera Rozuvan
 * http://javascript-experiments.net
 */
define("showHideGitHubRibbon",["jquery"],function(e){function t(){e(window).width()<=1e3?e(".forkme_github").hide("slide",{direction:"left"},750):e(".forkme_github").show("slide",{direction:"left"},750)}function n(){e(window).width()<=1e3?e(".forkme_github").hide():e(".forkme_github").show()}return e.browser.msie===!0?(e(window).on("resize",n),n):(e(window).on("resize",t),t)}),define("hotfix",[],function(){return function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(this==null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=0;arguments.length>1&&(r=Number(arguments[1]),r!=r?r=0:r!=0&&r!=Infinity&&r!=-Infinity&&(r=(r>0||-1)*Math.floor(Math.abs(r))));if(r>=n)return-1;var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++)if(i in t&&t[i]===e)return i;return-1})}}),define("logme",["jquery","jquery_ui","jquery_block_ui"],function(e,t,n){function u(){var t,n,r,u,a,f,l,c,h;o=!0,l=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/"/g,"&quot;"],[/'/g,"&apos;"]],n={width:e(window).width(),height:e(window).height()},r={width:800,height:400},n.width*.8<r.width&&(r.width=n.width*.8),n.height*.8<r.height&&(r.height=n.height*.8),r.left=.5*(n.width-r.width),r.top=.5*(n.height-r.height),s.css("height",r.height-55+"px"),u=e('<div class="debugWindowMessages"></div>'),h=i.length;for(t=0;t<h;t+=1){f=i[t];for(c in l)f=f.replace(l[c][0],l[c][1]);u.append(t+": "),f.length<=100?u.append(f+"<br />"):u.append('<br /><textarea rows="4" tabindex="-1" readonly="readonly">'+f+"</textarea>"+"<br />")}s.append(u),s.append('<div class="debugWindowInstructions">To open this dialog, [Ctrl + Click] on empty part of page.</div>'),a=e('<div class="debugWindowCloseIcon"><img src="images/close_icon.png" /></div>'),e.blockUI.defaults.css.cursor="default",e.blockUI({title:"logme() history",draggable:!0,theme:!0,css:{cursor:"default",left:r.left+"px",top:r.top+"px",width:r.width+"px",height:r.height+"px",margin:"0px auto 0px auto",textAlign:"left"},overlayCSS:{cursor:"default"},themedCSS:{left:r.left+"px",top:r.top+"px",width:r.width+"px",height:r.height+"px"},message:s,onBlock:function(){e(".blockUI.blockMsg").children(".ui-dialog-titlebar").append(a),setTimeout(function(){u.scrollTop(u.prop("scrollHeight"))},100),a.click(function(){e.unblockUI()})},onUnblock:function(){s.empty(),o=!1}})}function a(){var e,t,n,s,a,f;s=1024,a="WARNING: Maximum object length ("+s+") for stringify reached! Not all "+"properties will be shown.";if(typeof r=="undefined"||r!==!0)return;for(e=0;e<arguments.length;e++)typeof window.console!="undefined"&&window.console.log(arguments[e]),n=[],t=0,typeof arguments[e]=="string"?i.push(arguments[e]):typeof arguments[e]=="function"?i.push(arguments[e].toString()):typeof arguments[e]=="undefined"?i.push("undefined"):(f=JSON.stringify(arguments[e],function(e,r){t+=1;if(t>=s)return undefined;if(typeof r=="object"){if(n.indexOf(r)>=0)return"[recursion]";n.push(r)}return r}),f===undefined?i.push("undefined"):f===null?i.push("null"):i.push(f)),t>=s&&(typeof window.console!="undefined"&&window.console.log(a),i.push(a));o===!1&&(setTimeout(function(){u()},50),o=!0)}function f(){r=!0}function l(){r=!1}var r,i,s,o;return r=!0,a.enable=f,a.disable=l,i=[],s=e("<div />"),o=!1,e(document).click(function(t){var n;t.ctrlKey&&(n=e(t.target)[0].tagName.toLowerCase(),(n==="html"||n==="body")&&u())}),e(document).keyup(function(t){t.keyCode==27&&o===!0&&e.unblockUI()}),a}),define("Controller",["jquery"],function(e){function t(t){var r,i;i=e(".page").children(".module"),i.length===0?n(t):(r=i.length,i.each(function(i,s){e(s).slideUp(500,function(){r-=1,r===0&&n(t)})}))}function n(t){e(".page").empty(),e(".page").html("loading .."),require(["RunModules"],function(e){e(t)})}function r(){e(".experiment_link").each(function(n,r){var i,s;i=e(r).attr("data-src_folder"),s=e(r).attr("data-click_attached"),typeof i=="string"&&typeof s!="string"&&(e(r).attr("data-click_attached","true"),e(r).on("click",function(){t(i)}))})}return{switchExperiment:t,attachClickEvents:r}}),define("Output",[],function(){function e(e,t){e.append("<p>"+t+"</p>")}function t(e,t){e.append(t)}function n(e){e.append("<br />")}function r(e,t){e.append("<pre>"+t+"</pre>")}function i(e,t){e.append("<pre><code>"+t+"</code></pre>")}function s(e){return Array.prototype.slice.call(e)}function o(){var e,t;return arguments.length<1?this:(e=this,t=s(arguments),function(){return e.apply(this,t.concat(s(arguments)))})}return Function.prototype.curry=o,{p:e,out:t,br:n,pre:r,preCode:i}}),define("ModuleDiv",["jquery","Controller","Output"],function(e,t,n){function r(t,r){var f,l;return l=e("<div>"),l.addClass("module"),f={el:l,addCaption:i,appendToPage:s,appendToSelector:o,prepare:u,publish:a,p:n.p.curry(l),out:n.out.curry(l),br:n.br.curry(l),preCode:n.preCode.curry(l)},l=e("<div>"),l.addClass("module_caption"),l.html(t),f.captionEl=l,l=e("<div>"),l.addClass("octocat"),l.html('<a href="https://github.com/valera-rozuvan/javascript-experiments/blob/master/'+r+'">'+'<img src="images/git_cat_icon.png" />'+"</a>"),l.appendTo(f.captionEl),f}function i(){this.captionEl.appendTo(this.el)}function s(){this.el.appendTo(".page")}function o(e){this.el.appendTo(e)}function u(){this.el.hide(),this.el.empty(),this.addCaption()}function a(e){typeof e=="string"?this.appendToSelector(e):this.appendToPage(),this.el.slideDown(500),t.attachClickEvents()}return r}),define("ExtMd",["showdown"],function(e){function t(t){var n;n=new e.converter,this.moduleDiv.out(n.makeHtml(t)),this.moduleDiv.publish()}return t}),define("RunModules",["jquery","logme","ModuleDiv","ExtMd"],function(e,t,n,r){function i(i){require(["text!"+i+"/config.json"],function(s){function p(e){c=e.match(/^md!(.*)$/),c!==null?a.push("text!"+i+"/md/"+c[1]):a.push(i+"/js/"+e)}var o,u,a,f,l,c;if(typeof s!="string"){t('ERROR: While trying to retrieve the contents (text) from the "'+i+'/config.json" file, we did '+"not get a string.");return}try{o=JSON.parse(s)}catch(h){t('Something went wrong while parsing the configJson string. Most likely the file "'+i+'/config.json" was not found, and Require JS gave us '+"back an empty string. We do not continue.",'JSON.parse() returned with error message: "'+h.message+'".');return}if(e.isArray(o.to_run)===!1||o.to_run.length===0){t('ERROR: The file "'+i+'/config.json" does '+'not specify a "to_run" array, or it is empty.');return}a=[],f=[];for(u=0;u<o.to_run.length;u+=1)if(typeof o.to_run[u]=="string")p(o.to_run[u]),f.push(null);else if(e.isPlainObject(o.to_run[u])===!0){if(typeof o.to_run[u].source!="string"){t('ERROR: Missing "source" property!');return}p(o.to_run[u].source),l={easyMode:!1,description:"",githubLink:""},typeof o.to_run[u].easyMode=="string"&&o.to_run[u].easyMode.toLowerCase()==="true"&&(l.easyMode=!0),typeof o.to_run[u].description=="string"&&(l.description=o.to_run[u].description),typeof o.to_run[u].githubLink=="string"&&(l.githubLink=o.to_run[u].githubLink),f.push(l),l=null}typeof o.name=="string"&&e(document).attr("title","JavaScript Experiments: "+o.name),require(a,function(){var t,i;e(".page").empty();for(t=0;t<arguments.length;t++)f[t]!==null&&f[t].easyMode===!0?(i={moduleDiv:n(f[t].description,f[t].githubLink)},i.moduleDiv.prepare(),typeof arguments[t]=="string"?r.call(i,arguments[t]):arguments[t].call(i),i=null):typeof arguments[t]=="string"?r(arguments[t]):arguments[t]()});return})}return i}),requirejs.config({baseUrl:"experiments",paths:{hotfix:"../js_author/hotfix",jquery:"../js_vendor/jquery-1.8.3.min",jquery_ui:"../js_vendor/jquery-ui-1.9.2.custom.min",jquery_block_ui:"../js_vendor/jquery.blockUI",text:"../js_vendor/text",showdown:"../js_vendor/showdown.min",MathJax:"../js_vendor/mathjax/MathJax.js?config=AM_HTMLorMML-full",flot:"../js_vendor/flot/jquery.flot",Output:"../js_author/output",ModuleDiv:"../js_author/module_div",RunModules:"../js_author/run_modules",Controller:"../js_author/controller",ContentManager:"../js_author/content_manager",pipeline:"../js_author/pipeline",showHideGitHubRibbon:"../js_author/show_hide_gh_ribbon",ExtMd:"../js_author/ext/md",logme:"../js_author/logme"},shim:{showdown:{deps:[],exports:"Showdown"},MathJax:{deps:[],exports:"MathJax"},flot:{deps:["jquery"],exports:"jQuery.plot"},jquery_ui:{deps:["jquery"],exports:"jQuery.ui"}}}),requirejs(["showHideGitHubRibbon","hotfix","jquery","RunModules","logme"],function(e,t,n,r,i){t(),e(),n.noConflict(),r("experiments_menu")}),define("main",function(){});